<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HMS: Health Monitoring System</title>
    <link rel="icon" href="./Blueheart.png" sizes="32x32" type="image/png" />
    <style type="text/css">
      body {
        background-color: #f0f7fe;
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
      }
      .header-container {
        margin: 40px auto;
        width: 100%;
        max-width: 1000px;
        background-color: #26468f;
        padding: 10px 20px;
        border-radius: 20px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .data-head {
        margin: 0;
        font-size: 45px;
        font-weight: bold;
        color: #f0f7fe;
      }
      .image-block {
        margin-left: 20px;
      }
      .image-block img {
        width: 100px;
        height: auto;
      }
      .tab {
        margin: 20px auto;
        max-width: 1200px;
        text-align: center;
      }
      .tab button {
        padding: 10px 20px;
        margin: 0 5px;
        border: none;
        border-radius: 5px;
        background-color: #26468f;
        color: #f0f7fe;
        cursor: pointer;
        font-size: 18px;
      }
      .tab button.active {
        background-color: #6eb7ff;
      }
      .tab-content {
        display: none;
        margin-top: 20px;
      }
      .tab-content.active {
        display: block;
      }
      .data-container {
        width: 90%;
        margin: 50px auto;
        padding: 20px;
        background-color: #fff;
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
      }

      /* Main block for Humidity + Temperature, and SpO2 + Heart Rate */
      .main-data-block {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        padding: 10px;
        background-color: #f0f7fe;
        border: 0px solid #6eb7ff;
        border-radius: 0px;
        box-shadow: 0 0px 0px rgba(0, 0, 0, 0.1);
      }

      .data-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 40%;
        text-align: center;
        background-color: #fff;
        border: 2px solid #26468f;
        border-radius: 50px;
        padding: 10px;
        box-shadow: 10px 3px 10px rgba(0, 0, 0, 0.1);
        margin: 10px 10px;
      }

      .data-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 80%;
      }

      .text-block {
        flex: 1;
        text-align: center;
      }

      .image-block {
        margin-left: 0px;
      }

      .image-block img {
        width: 70px;
        height: auto;
      }

      .data-item h2 {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 10px;
        color: #26468f;
      }

      .data-item p {
        font-size: 40px;
        font-weight: bold;
        margin: 0;
        color: #26468f;
      }

      @media (max-width: 768px) {
        .data-content {
          flex-direction: column;
          align-items: center;
        }

        .image-block {
          margin-top: 10px;
        }

        .image-block img {
          width: 60px;
        }
      }

      .home-container {
        display: flex;
        justify-content: space-between;
        align-items: justify;
        background-color: #f0f7fe;
        padding: 40px 20px;
        margin: 30px auto;
        border-radius: 20px;
        box-shadow: 10px 5px 20px rgba(0, 0, 0, 0.1);
        max-width: 1000px;
      }

      .home-content {
        flex: 1;
        color: #000000;
        font-size: 20px;
        line-height: 1.6;
      }

      .home-content p {
        margin: 20px 0;
      }
      .home-image img {
        width: 150px;
        height: auto;
        margin-left: 20px;
      }

      @media (max-width: 768px) {
        .home-container {
          flex-direction: column;
          text-align: center;
        }

        .home-image img {
          margin: 20px 0;
          width: 200px;
        }
      }

      .tab-content {
        padding: 20px;
        margin: 0 auto;
        text-align: justify;
        max-width: 1200px;
      }
    </style>
  </head>
  <body>
    <div class="header-container">
      <div class="data-head">
        <p>
          HMS:<br />
          Health Monitoring System
        </p>
      </div>
      <div class="image-block">
        <img src="./HMS.png" alt="Health Monitoring" />
      </div>
    </div>

    <div class="tab">
      <button class="tablinks active" onclick="openTab(event, 'Home')">
        Home
      </button>
      <button class="tablinks" onclick="openTab(event, 'P1')">P1</button>
      <button class="tablinks" onclick="openTab(event, 'P2')">P2</button>
    </div>

    <div id="Home" class="tab-content active">
      <h2>Welcome to the Health Monitoring System</h2>
      <p>
        This is the homepage of the website. HMS is used by doctors for
        monitoring their patientsâ€™ health. HMS is built to store health data for
        electronic medical record. Press a button Patient 1 to view the health
        parameter of the first patient. Similar to Patient 2.
        <br />
        Keep an eye on your patients even when they leave the hospital.
      </p>

      <div class="home-container">
        <div class="home-content">
          <p>
            HMS helps healthcare providers track the vital signs of their
            patients in real time. Doctors can monitor patients' temperature,
            oxygen saturation, and heart rate to ensure they receive timely
            care.
          </p>
        </div>
        <div class="home-image">
          <img src="./home1.png" alt="Health Monitoring" />
        </div>
      </div>
    </div>

    <!-- Patient 1 Tab -->
    <div id="P1" class="tab-content">
      <div class="main-data-block">
        <h2>Name: Nguyen Thi Thu Ha</h2>
      </div>
      <div class="main-data-block">
        <h2>Health parameter:</h2>
      </div>
      <div class="main-data-block">
        <h2>Date of birth:</h2>
      </div>
      <div class="main-data-block">
        <h2>Sex:</h2>
      </div>
      <div class="main-data-block">
        <h2>Date of discharge:</h2>
      </div>

      <div class="main-data-block">
        <div class="data-item">
          <div class="data-content">
            <div class="text-block">
              <h2>Temperature</h2>
              <p class="value" id="temperature">&#8451</p>
            </div>
            <div class="image-block">
              <img src="./Temperature.png" alt="Temperature Image" />
            </div>
          </div>
        </div>
        <div class="data-item">
          <div class="data-content">
            <div class="text-block">
              <h2>Humidity</h2>
              <p class="value" id="humidity">%</p>
            </div>
            <div class="image-block">
              <img src="./Humidity.png" alt="Humidity Image" />
            </div>
          </div>
        </div>
      </div>

      <div class="main-data-block">
        <h2>Health parameter:</h2>
      </div>

      <div class="main-data-block">
        <div class="data-item">
          <div class="data-content">
            <div class="text-block">
              <h2>SpO2</h2>
              <p class="value" id="spo2">%</p>
            </div>
            <div class="image-block">
              <img src="./spo2.png" alt="SpO2 Image" />
            </div>
          </div>
        </div>
        <div class="data-item">
          <div class="data-content">
            <div class="text-block">
              <h2>Heart Rate</h2>
              <p class="value" id="heartrate"> BPM</p>
            </div>
            <div class="image-block">
              <img src="./Heartrate.png" alt="Heart Rate Image" />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Patient 2 Tab -->
  <div id="P2" class="tab-content">
    <div class="main-data-block">
      <h2>Name: Nguyen Thu Phuong</h2>
    </div>
    <div class="main-data-block">
      <h2>Health parameter:</h2>
    </div>
    <div class="main-data-block">
      <h2>Date of birth:</h2>
    </div>
    <div class="main-data-block">
      <h2>Sex:</h2>
    </div>
    <div class="main-data-block">
      <h2>Date of discharge:</h2>
    </div>

    <div class="main-data-block">
      <div class="data-item">
        <div class="data-content">
          <div class="text-block">
            <h2>Temperature</h2>
            <p class="valueP" id="temperatureP2">&#8451</p>
          </div>
          <div class="image-block">
            <img src="./Temperature.png" alt="Temperature Image" />
          </div>
        </div>
      </div>
      <div class="data-item">
        <div class="data-content">
          <div class="text-block">
            <h2>Humidity</h2>
            <p class="valueP" id="humidityP2">%</p>
          </div>
          <div class="image-block">
            <img src="./Humidity.png" alt="Humidity Image" />
          </div>
        </div>
      </div>
    </div>

    <div class="main-data-block">
      <h2>Health parameter:</h2>
    </div>

    <div class="main-data-block">
      <div class="data-item">
        <div class="data-content">
          <div class="text-block">
            <h2>SpO2</h2>
            <p class="valueP" id="spo2P2">%</p>
          </div>
          <div class="image-block">
            <img src="./spo2.png" alt="SpO2 Image" />
          </div>
        </div>
      </div>
      <div class="data-item">
        <div class="data-content">
          <div class="text-block">
            <h2>Heart Rate</h2>
            <p class="valueP" id="heartrateP2"> BPM</p>
          </div>
          <div class="image-block">
            <img src="./Heartrate.png" alt="Heart Rate Image" />
          </div>
        </div>
      </div>
    </div>
  </div>

    

    <!-- the scripts for products you want to access must be added-->

    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>

    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https:";

      // Your web app's Firebase configuration here (Do not use the existing configuration)
      const firebaseConfig = {
        apiKey: "AI",
        authDomain: "he",
        databaseURL:
          "https:",
        projectId: "he",
        storageBucket: "he",
        messagingSenderId: "",
        appId: "f",
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);

      // getting reference to the database
      var database = firebase.database();

      //getting reference to the data we want
      var dataRef1 = database.ref("DHTdata/humidity");
      var dataRef2 = database.ref("DHTdata/temperature");
      var dataRef3 = database.ref("Maxdata/spo2");
      var dataRef4 = database.ref("Maxdata/heartrate");

      //fetch the data
      dataRef1.on("value", function (getdata1) {
        var humi = getdata1.val();
        document.getElementById("humidity").innerHTML = parseFloat(humi).toFixed(2) + "%";
      });

      dataRef2.on("value", function (getdata2) {
        var temp = getdata2.val();
        document.getElementById("temperature").innerHTML = parseFloat(temp).toFixed(2) + "&#8451;";
      });

      dataRef3.on("value", function (getdata3) {
        var spo2 = getdata3.val();
        document.getElementById("spo2").innerHTML = parseFloat(spo2).toFixed(2) + "%";
      });

      dataRef4.on("value", function (getdata4) {
        var heartrate = getdata4.val();
        document.getElementById("heartrate").innerHTML = parseFloat(heartrate).toFixed(2) + " BPM";
      });

      // References for Patient 2
    var dataRef5 = firebase.database().ref("PhuongDHTdata/humidity");
    var dataRef6 = firebase.database().ref("PhuongDHTdata/temperature");
    var dataRef7 = firebase.database().ref("PhuongsensorData/spo2");
    var dataRef8 = firebase.database().ref("PhuongsensorData/heartRate");

    // Fetch and update for Patient 2
    dataRef5.on("value", function (getdata5) {
      var humi = getdata5.val();
      document.getElementById("humidityP2").innerHTML = parseFloat(humi).toFixed(2) + "%";
    });

    dataRef6.on("value", function (getdata6) {
      var temp = getdata6.val();
      document.getElementById("temperatureP2").innerHTML = parseFloat(temp).toFixed(2) + "&#8451;";
    });

    dataRef7.on("value", function (getdata7) {
      var spo2 = getdata7.val();
      document.getElementById("spo2P2").innerHTML = parseFloat(spo2).toFixed(2) + "%";
    });

    dataRef8.on("value", function (getdata8) {
      var heartrate = getdata8.val();
      document.getElementById("heartrateP2").innerHTML = parseFloat(heartrate).toFixed(2) + " BPM";
    });
      
    </script>

    <script>
      function openTab(evt, tabName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tab-content");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].classList.remove("active");
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].classList.remove("active");
        }
        document.getElementById(tabName).classList.add("active");
        evt.currentTarget.classList.add("active");
      }
    </script>
  </body>
</html>
